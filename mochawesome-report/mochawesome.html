<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets\app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:3,&quot;tests&quot;:9,&quot;passes&quot;:9,&quot;pending&quot;:0,&quot;failures&quot;:0,&quot;start&quot;:&quot;2023-03-05T07:47:03.693Z&quot;,&quot;end&quot;:&quot;2023-03-05T07:47:03.981Z&quot;,&quot;duration&quot;:288,&quot;testsRegistered&quot;:9,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;3956606f-3ff3-4d4f-975a-169155f060b0&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;0bf965a0-077e-4951-91ab-42a867bfef05&quot;,&quot;title&quot;:&quot;testing server&quot;,&quot;fullFile&quot;:&quot;D:\\BlockchainDev\\web2Stuffs\\Youtube_Subscribers\\__tests__\\router.test.js&quot;,&quot;file&quot;:&quot;\\__tests__\\router.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;testing server\&quot;&quot;,&quot;fullTitle&quot;:&quot;testing server \&quot;before all\&quot; hook in \&quot;testing server\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:127,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Starting the server on port 3000\n        server = app.listen(3000, () =&gt; {\n            console.log(&#x27;Server started&#x27;)\n        })\n        // Connecting to the test database\n        const DATABASE_URL = \&quot;mongodb://localhost:27017/TestSubscribers\&quot;;\n        mongoose.connect(DATABASE_URL, {\n            useNewUrlParser: true,\n            useUnifiedTopology: true\n        });\n        const db = mongoose.connection\n        \n        // Logging any errors\n        db.on(&#x27;error&#x27;, (err) =&gt; console.log(err))\n        // Logging when the connection is successful\n        db.once(&#x27;open&#x27;, () =&gt; console.log(&#x27;connected to database&#x27;))\n        // Deleting any existing documents and adding sample data\n        await subscriberModel.deleteMany({})\n        await subscriberModel.insertMany(data)\n        // Finding a sample document to use in later tests (/subscribers/:id)\n        sampleDoc = await subscriberModel.findOne({ name: &#x27;John Doe&#x27; })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0dae4369-4d0b-407e-95cd-94050580ada9&quot;,&quot;parentUUID&quot;:&quot;0bf965a0-077e-4951-91ab-42a867bfef05&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;testing server\&quot;&quot;,&quot;fullTitle&quot;:&quot;testing server \&quot;after all\&quot; hook in \&quot;testing server\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:18,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;server.close(() =&gt; {\n    console.log(&#x27;Server stopped&#x27;);\n})\nawait mongoose.disconnect();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;83915e00-cbd6-43ec-85c9-e492bdb98c1c&quot;,&quot;parentUUID&quot;:&quot;0bf965a0-077e-4951-91ab-42a867bfef05&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;374a89c4-fce4-4410-9139-0fc938043e02&quot;,&quot;title&quot;:&quot;testing the API&quot;,&quot;fullFile&quot;:&quot;D:\\BlockchainDev\\web2Stuffs\\Youtube_Subscribers\\__tests__\\router.test.js&quot;,&quot;file&quot;:&quot;\\__tests__\\router.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return welcome message with endpoints&quot;,&quot;fullTitle&quot;:&quot;testing server testing the API should return welcome message with endpoints&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:26,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await chai.request(app).get(&#x27;/&#x27;)\nchai.expect(res.status).to.equal(200)\nchai.expect(res.body.welcome).to.equal(&#x27;This is an API created for Youtube Subscribers Backend Project&#x27;)\nchai.expect(res.body.endpoints).to.deep.equal({\n    toGetAllSubsribers: &#x27;/subscribers&#x27;,\n    toGetAllSubsribersNames: &#x27;/subscribers/names&#x27;,\n    toGetSubscribersByID: &#x27;/subscribers/:id&#x27;\n})&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;74bf5e88-0c8b-4a24-85c6-c8f08924f48d&quot;,&quot;parentUUID&quot;:&quot;374a89c4-fce4-4410-9139-0fc938043e02&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return subscribers&quot;,&quot;fullTitle&quot;:&quot;testing server testing the API should return subscribers&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await chai.request(app).get(&#x27;/subscribers&#x27;)\n            \n            chai.expect(res.status).to.equal(200)\n            chai.expect(res.body.subscribers[0].name).to.equal(\&quot;Jeread Krus\&quot;)\n            chai.expect(res.body.subscribers[0].subscribedChannel).to.equal(\&quot;CNET\&quot;)\n            chai.expect(res.body.subscribers[1].name).to.equal(\&quot;John Doe\&quot;)\n            chai.expect(res.body.subscribers[1].subscribedChannel).to.equal(\&quot;freeCodeCamp.org\&quot;)\n            chai.expect(res.body.subscribers[2].name).to.equal(\&quot;Lucifer\&quot;)\n            chai.expect(res.body.subscribers[2].subscribedChannel).to.equal(\&quot;Sentex\&quot;)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c19087b3-28c3-4d03-8bd5-1f6b74b0d2ba&quot;,&quot;parentUUID&quot;:&quot;374a89c4-fce4-4410-9139-0fc938043e02&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return subscribers with names&quot;,&quot;fullTitle&quot;:&quot;testing server testing the API should return subscribers with names&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await chai.request(app).get(&#x27;/subscribers/names&#x27;)\nchai.expect(res.status).to.equal(200)\n// since this endpoint only returns docs with name and subscribedChannel I am expecting it to be equal to the given object. \nchai.expect(res.body.subscribers).to.deep.equal([{\n    \&quot;name\&quot;: \&quot;Jeread Krus\&quot;,\n    \&quot;subscribedChannel\&quot;: \&quot;CNET\&quot;\n},\n{\n    \&quot;name\&quot;: \&quot;John Doe\&quot;,\n    \&quot;subscribedChannel\&quot;: \&quot;freeCodeCamp.org\&quot;\n},\n{\n    \&quot;name\&quot;: \&quot;Lucifer\&quot;,\n    \&quot;subscribedChannel\&quot;: \&quot;Sentex\&quot;\n}])&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;03b437d6-cb2b-473d-9639-31682d116eba&quot;,&quot;parentUUID&quot;:&quot;374a89c4-fce4-4410-9139-0fc938043e02&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return subscribers with id&quot;,&quot;fullTitle&quot;:&quot;testing server testing the API should return subscribers with id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await chai.request(app).get(`/subscribers/${sampleDoc._id}`)\nchai.expect(res.status).to.equal(200)\nchai.expect(res.body.name).to.equal(&#x27;John Doe&#x27;)\nchai.expect(res.body.subscribedChannel).to.equal(&#x27;freeCodeCamp.org&#x27;)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d2602746-e5ce-4838-84fa-bbaae4ab8352&quot;,&quot;parentUUID&quot;:&quot;374a89c4-fce4-4410-9139-0fc938043e02&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should return status 400 and error message if id not found&quot;,&quot;fullTitle&quot;:&quot;testing server testing the API Should return status 400 and error message if id not found&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await chai.request(app).get(`/subscribers/123456`)\nchai.expect(res.status).to.equal(400)\nchai.expect(res.body.message).to.equal(&#x27;Subscriber not found for id 123456&#x27;)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;021e80eb-c370-4075-a480-69a259edbc0c&quot;,&quot;parentUUID&quot;:&quot;374a89c4-fce4-4410-9139-0fc938043e02&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;74bf5e88-0c8b-4a24-85c6-c8f08924f48d&quot;,&quot;c19087b3-28c3-4d03-8bd5-1f6b74b0d2ba&quot;,&quot;03b437d6-cb2b-473d-9639-31682d116eba&quot;,&quot;d2602746-e5ce-4838-84fa-bbaae4ab8352&quot;,&quot;021e80eb-c370-4075-a480-69a259edbc0c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:70,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:60000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:60000},{&quot;uuid&quot;:&quot;0ff882c5-027b-4c73-a02e-0ec52a96076d&quot;,&quot;title&quot;:&quot;Subscriber Model&quot;,&quot;fullFile&quot;:&quot;D:\\BlockchainDev\\web2Stuffs\\Youtube_Subscribers\\__tests__\\schema.test.js&quot;,&quot;file&quot;:&quot;\\__tests__\\schema.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;Subscriber Model\&quot;&quot;,&quot;fullTitle&quot;:&quot;Subscriber Model \&quot;before all\&quot; hook in \&quot;Subscriber Model\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const DATABASE_URL = \&quot;mongodb://localhost:27017/TestSubscribers\&quot;;\nawait mongoose.connect(DATABASE_URL, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6aaf3ba7-1f4c-407c-83a7-f115d08ef5ed&quot;,&quot;parentUUID&quot;:&quot;0ff882c5-027b-4c73-a02e-0ec52a96076d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Subscriber Model\&quot;&quot;,&quot;fullTitle&quot;:&quot;Subscriber Model \&quot;after all\&quot; hook in \&quot;Subscriber Model\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await mongoose.connection.db.dropDatabase();\nawait mongoose.disconnect();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;96cb35c6-3718-4eb1-b21c-3ba7e7670888&quot;,&quot;parentUUID&quot;:&quot;0ff882c5-027b-4c73-a02e-0ec52a96076d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;Subscriber Model\&quot;&quot;,&quot;fullTitle&quot;:&quot;Subscriber Model \&quot;after each\&quot; hook in \&quot;Subscriber Model\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await Subscriber.deleteMany({});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c747e9c4-d9a7-45c6-9175-3e4ad7321691&quot;,&quot;parentUUID&quot;:&quot;0ff882c5-027b-4c73-a02e-0ec52a96076d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create a new subscriber&quot;,&quot;fullTitle&quot;:&quot;Subscriber Model should create a new subscriber&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const newSubscriber = new Subscriber({\n  name: &#x27;John Doe&#x27;,\n  subscribedChannel: &#x27;freeCodeCamp.org&#x27;\n});\n// Saving the new subscriber object to database\nconst savedSubscriber = await newSubscriber.save();\n// Assertion for saved subscriber object\nexpect(savedSubscriber).to.have.property(&#x27;_id&#x27;);\nexpect(savedSubscriber.name).to.equal(&#x27;John Doe&#x27;);\nexpect(savedSubscriber.subscribedChannel).to.equal(&#x27;freeCodeCamp.org&#x27;);\nexpect(savedSubscriber.subscribedDate).to.be.a(&#x27;date&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;09b3870a-9fa6-48b7-a362-696caad9e5fa&quot;,&quot;parentUUID&quot;:&quot;0ff882c5-027b-4c73-a02e-0ec52a96076d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not save a subscriber without a name&quot;,&quot;fullTitle&quot;:&quot;Subscriber Model should not save a subscriber without a name&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const newSubscriber = new Subscriber({\n  subscribedChannel: &#x27;freeCodeCamp.org&#x27;\n});\n// Expecting the new subscriber object without name to not save\nawait expect(newSubscriber.save()).to.be.rejectedWith(&#x27;Subscriber validation failed&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d63b403e-899a-42b1-bd28-43c329b3ac15&quot;,&quot;parentUUID&quot;:&quot;0ff882c5-027b-4c73-a02e-0ec52a96076d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not save a subscriber without a subscribedChannel&quot;,&quot;fullTitle&quot;:&quot;Subscriber Model should not save a subscriber without a subscribedChannel&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const newSubscriber = new Subscriber({\n  name: &#x27;John Doe&#x27;\n});\n// Expecting the new subscriber object without subscribed channel to not save\nawait expect(newSubscriber.save()).to.be.rejectedWith(&#x27;Subscriber validation failed&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b253bd18-3cf2-473d-9491-9605d6971903&quot;,&quot;parentUUID&quot;:&quot;0ff882c5-027b-4c73-a02e-0ec52a96076d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should find a subscriber by ID&quot;,&quot;fullTitle&quot;:&quot;Subscriber Model should find a subscriber by ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const newSubscriber = new Subscriber({\n  name: &#x27;John Doe&#x27;,\n  subscribedChannel: &#x27;freeCodeCamp.org&#x27;\n});\n// Saving the new subscriber object to database\nconst savedSubscriber = await newSubscriber.save();\n// Finding the saved subscriber object by its ID\nconst foundSubscriber = await Subscriber.findById(savedSubscriber._id);\n// Assertion for the found subscriber object\nexpect(foundSubscriber).to.have.property(&#x27;_id&#x27;);\nexpect(foundSubscriber.name).to.equal(&#x27;John Doe&#x27;);\nexpect(foundSubscriber.subscribedChannel).to.equal(&#x27;freeCodeCamp.org&#x27;);\nexpect(foundSubscriber.subscribedDate).to.be.a(&#x27;date&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3e5e32a7-2f15-4b1e-bb27-6cecc8181c35&quot;,&quot;parentUUID&quot;:&quot;0ff882c5-027b-4c73-a02e-0ec52a96076d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;09b3870a-9fa6-48b7-a362-696caad9e5fa&quot;,&quot;d63b403e-899a-42b1-bd28-43c329b3ac15&quot;,&quot;b253bd18-3cf2-473d-9491-9605d6971903&quot;,&quot;3e5e32a7-2f15-4b1e-bb27-6cecc8181c35&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:24,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:60000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:60000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;10.2.0&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;7.1.3&quot;},&quot;marge&quot;:{&quot;version&quot;:&quot;6.2.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;mochawesome-report&quot;,&quot;reportTitle&quot;:&quot;Youtube_Subscribers&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;mochawesome-report\\assets&quot;,&quot;jsonFile&quot;:&quot;D:\\BlockchainDev\\web2Stuffs\\Youtube_Subscribers\\mochawesome-report\\mochawesome.json&quot;,&quot;htmlFile&quot;:&quot;D:\\BlockchainDev\\web2Stuffs\\Youtube_Subscribers\\mochawesome-report\\mochawesome.html&quot;}"><div id="report"></div><script src="assets\app.js"></script></body></html>